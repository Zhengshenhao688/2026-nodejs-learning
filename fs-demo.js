// 1. å¼•å…¥ fs æ¨¡å—
const fs = require('fs');

// 2. å®šä¹‰è¦å†™å…¥çš„å†…å®¹
const content = 'è¿™æ˜¯æˆ‘ç”¨ Node.js å†™è¿›å»çš„ç¬¬ä¸€å¥è¯ï¼Hello File System!';

// 3. å†™å…¥æ–‡ä»¶ (æ–‡ä»¶å, å†…å®¹, å›è°ƒå‡½æ•°)
// æ³¨æ„ï¼šè¿™æ˜¯å¼‚æ­¥æ“ä½œï¼Node.js ä¸ä¼šå¡åœ¨è¿™é‡Œç­‰ï¼Œè€Œæ˜¯ç»§ç»­å¾€ä¸‹è·‘ï¼Œå†™å®Œåæ‰å›æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚
fs.writeFile('./test.txt', content, (err) => {
    if (err) {
        console.error('å†™å…¥å¤±è´¥', err);
        return;
    }
    // å¦‚æœ err ä¸ºç©ºï¼Œè¯´æ˜æˆåŠŸäº†
    console.log('âœ… å†™å…¥æ–‡ä»¶æˆåŠŸï¼å¿«å»çœ‹çœ‹ä½ çš„æ–‡ä»¶å¤¹ã€‚');
});

console.log('--- ä¹Ÿå°±æ˜¯è¯æ˜å¼‚æ­¥çš„ä¸€è¡Œå­—ï¼šè¿™è¡Œä»£ç ä¼šæ¯”ä¸Šé¢çš„â€œå†™å…¥æˆåŠŸâ€å…ˆæ‰“å° ---');

// 4. è¯»å–æ–‡ä»¶
// æ³¨æ„ï¼šç¬¬äºŒä¸ªå‚æ•° 'utf8' å¾ˆé‡è¦ï¼Œä¸åŠ çš„è¯è¯»å‡ºæ¥çš„å°±æ˜¯ Buffer (ä¸€å †äºŒè¿›åˆ¶æ•°æ®)
fs.readFile('./test.txt', 'utf8', (err, data) => {
    if (err) {
        console.error('è¯»å–å¤±è´¥ ğŸ˜­', err);
        return;
    }
    console.log('ğŸ“– è¯»å–åˆ°çš„å†…å®¹æ˜¯ï¼š', data);
});